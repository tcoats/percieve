(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{63:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},64:function(e,t,r){"use strict";var o=r(65),n=r.n(o);t.a=({name:e,query:t,render:o,module:s})=>{const i={name:e,functional:!0,query:t,render:(e,t)=>o(n()(e),{state:t.props.state||t.data.state||t.parent.$state,route:t.parent.$route,router:t.parent.$router,hub:t.props.hub||t.data.hub||t.parent.$hub,...t})};if(s&&s.hot){const t=r(66),o=r(3);if(t.install(o),!t.compatible)throw new Error("vue-hot-reload-api is not compatible with the version of Vue you are using.");s.hot.accept(),s.hot.data?t.rerender(e,i):t.createRecord(e,i)}return i}},65:function(e,t){const r=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,o=/^\.|#/;e.exports=e=>(t,n,s)=>{if(null==t)return e("div",n,s);if("string"!=typeof t)return e(t,n,s);(null==n||"object"!=typeof n||Array.isArray(n))&&(s=n,n={});const i=t.split(r);for(let e of i){const t=e.charAt(0),r=e.substring(1,e.length);"."===t?(n.class||(n.class={}),n.class[r]=!0):"#"!==t||n.hasOwnProperty("id")||(n.attrs||(n.attrs={}),n.attrs.id=r)}const c=o.test(i[1])?"div":i[1];return e(c,n,s)}},66:function(e,t){var r,o,n=Object.create(null);"undefined"!=typeof window&&(window.__VUE_HOT_MAP__=n);var s=!1,i="beforeCreate";function c(e,t){if(t.functional){var r=t.render;t.render=function(t,o){var s=n[e].instances;return o&&s.indexOf(o.parent)<0&&s.push(o.parent),r(t,o)}}else u(t,i,(function(){var t=n[e];t.Ctor||(t.Ctor=this.constructor),t.instances.push(this)})),u(t,"beforeDestroy",(function(){var t=n[e].instances;t.splice(t.indexOf(this),1)}))}function u(e,t,r){var o=e[t];e[t]=o?Array.isArray(o)?o.concat(r):[o,r]:[r]}function a(e){return function(t,r){try{e(t,r)}catch(e){console.error(e),console.warn("Something went wrong during Vue component hot-reload. Full reload required.")}}}function l(e,t){for(var r in e)r in t||delete e[r];for(var o in t)e[o]=t[o]}t.install=function(e,n){s||(s=!0,r=e.__esModule?e.default:e,o=r.version.split(".").map(Number),n,r.config._lifecycleHooks.indexOf("init")>-1&&(i="init"),t.compatible=o[0]>=2,t.compatible||console.warn("[HMR] You are using a version of vue-hot-reload-api that is only compatible with Vue.js core ^2.0.0."))},t.createRecord=function(e,t){if(!n[e]){var r=null;"function"==typeof t&&(t=(r=t).options),c(e,t),n[e]={Ctor:r,options:t,instances:[]}}},t.isRecorded=function(e){return void 0!==n[e]},t.rerender=a((function(e,t){var r=n[e];if(t){if("function"==typeof t&&(t=t.options),r.Ctor)r.Ctor.options.render=t.render,r.Ctor.options.staticRenderFns=t.staticRenderFns,r.instances.slice().forEach((function(e){e.$options.render=t.render,e.$options.staticRenderFns=t.staticRenderFns,e._staticTrees&&(e._staticTrees=[]),Array.isArray(r.Ctor.options.cached)&&(r.Ctor.options.cached=[]),Array.isArray(e.$options.cached)&&(e.$options.cached=[]);var o=function(e){if(!e._u)return;var t=e._u;return e._u=function(e){try{return t(e,!0)}catch(r){return t(e,null,!0)}},function(){e._u=t}}(e);e.$forceUpdate(),e.$nextTick(o)}));else if(r.options.render=t.render,r.options.staticRenderFns=t.staticRenderFns,r.options.functional){if(Object.keys(t).length>2)l(r.options,t);else{var o=r.options._injectStyles;if(o){var s=t.render;r.options.render=function(e,t){return o.call(t),s(e,t)}}}r.options._Ctor=null,Array.isArray(r.options.cached)&&(r.options.cached=[]),r.instances.slice().forEach((function(e){e.$forceUpdate()}))}}else r.instances.slice().forEach((function(e){e.$forceUpdate()}))})),t.reload=a((function(e,t){var r=n[e];if(t)if("function"==typeof t&&(t=t.options),c(e,t),r.Ctor){o[1]<2&&(r.Ctor.extendOptions=t);var s=r.Ctor.super.extend(t);s.options._Ctor=r.options._Ctor,r.Ctor.options=s.options,r.Ctor.cid=s.cid,r.Ctor.prototype=s.prototype,s.release&&s.release()}else l(r.options,t);r.instances.slice().forEach((function(e){e.$vnode&&e.$vnode.context?e.$vnode.context.$forceUpdate():console.warn("Root or manually mounted instance modified. Full reload required.")}))}))},67:function(e,t){const r=(e,t)=>e.value>t.value?-1:e.value<t.value?1:0,o=(e,t)=>e.key>t.key?-1:e.key<t.key?1:0,n=(e,t=r)=>{let o=1/0,n=-1/0,s=0;const i=Object.keys(e).map(t=>{const r=e[t];return n=Math.max(n,r),o=Math.min(o,r),s+=r,{key:t,value:r}}).sort(t);return{rows:i,max:n,min:o,sum:s,avg:s/i.length}};n.byvaluedesc=r,n.byvalueasc=(e,t)=>r(t,e),n.bykeydesc=o,n.bykeyasc=(e,t)=>o(t,e),e.exports=n},70:function(e,t,r){"use strict";r.r(t),function(e){var o=r(64),n=r(67),s=r.n(n),i=r(19),c=r.n(i),u=r(20),a=r.n(u);t.default=Object(o.a)({name:"dasboard",module:e,query:({hub:e,props:t})=>e.emit("load cube"),render:(e,{props:t,hub:r,state:o,route:n,router:i})=>{const u=(...e)=>t=>{t.preventDefault(),r.emit(...e)},l={supplier:{min:1/0,max:-1/0,sum:0,count:0,total:0},position:{min:1/0,max:-1/0,sum:0,count:0,total:0},customer:{min:1/0,max:-1/0,sum:0,count:0,total:0},entries:{}},p=(e,t)=>{for(const r of Object.keys(e)){l[t].total++;const o=e[r];o<.1&&o>-.1||(l[t].count++,l[t].max=Math.max(l[t].max,o),l[t].min=Math.min(l[t].min,o),l[t].sum+=o,l.entries[r]||(l.entries[r]={key:r,supplier:0,position:0,customer:0}),l.entries[r][t]=o)}};p(o.cube.countrybysupplierspend,"supplier"),p(o.cube.countrybycustomerspend,"customer"),p(o.cube.countrybyspendposition,"position");const d=-Math.min(l.position.min,0),f=l.position.max+d;l.rows=Object.values(l.entries);var y;l.rows.sort((y=o.filters.countrysort,(e,t)=>e[y]>t[y]?-1:e[y]<t[y]?1:0));const b=s()(o.cube.countrybysupplierspend).rows.filter(e=>e.value>.1||e.value<-.1),m=s()(o.cube.countrybycustomerspend),h=m.rows.filter(e=>e.value>.1||e.value<-.1),v=s()(o.cube.countrybyspendposition);v.rows=v.rows.filter(e=>e.value>.1||e.value<-.1);const $=s()(o.cube.supplierbyspend);$.rows=$.rows.filter(e=>e.value>.1);const w=s()(o.cube.customerbyspend);w.rows=w.rows.filter(e=>e.value>.1);const k=s()(o.cube.productbyunits);return k.rows=k.rows.filter(e=>0!=e.value),e("div",[e("table",[e("tr",[e("th",[]),e("th",{attrs:{colspan:2}},[e("h2",[e("a",{on:{click:u("sort country by","supplier")},attrs:{href:"#"}},["Supplier spend ",e("small",`${l.supplier.count}/${l.supplier.total}`)])]),o.filters.supplierbycountry?e("a",{on:{click:u("filter supplier by country",null)},attrs:{href:"#"}},`Clear ${o.filters.supplierbycountry}`):[]]),e("th",{attrs:{colspan:2}},[e("h2",[e("a",{on:{click:u("sort country by","position")},attrs:{href:"#"}},"Spend position ")])]),e("th",{attrs:{colspan:2}},[e("h2",[e("a",{on:{click:u("sort country by","customer")},attrs:{href:"#"}},["Customer spend ",e("small",`${h.length}/${m.rows.length}`)])]),o.filters.customerbycountry?e("a",{on:{click:u("filter customer by country",null)},attrs:{href:"#"}},`Clear ${o.filters.customerbycountry}`):[]])]),...l.rows.map(t=>e("tr",[e("td",t.key),e("td.d",[0!=t.supplier?e("a",{on:{click:u("filter supplier by country",t.key)},attrs:{href:"#"}},[c()(t.supplier).format("$0,0")]):null]),e("td",[0!=t.supplier?e("span.bar",{style:{width:`${100*t.supplier/l.supplier.max}px`}}):null]),e("td.d",[c()(t.position).format("$0,0")]),e("td",[t.position<0?[e("span.bar.blank",{style:{width:`${100*(d+t.position)/f}px`}}),e("span.bar.red",{style:{width:`${100*-t.position/f}px`}})]:e("span.bar.blank",{style:{width:`${100*d/f}px`}}),t.position>0?e("span.bar.green",{style:{width:`${100*t.position/f}px`}}):null]),e("td.d",[0!=t.customer?e("a",{on:{click:u("filter customer by country",t.key)},attrs:{href:"#"}},[c()(t.customer).format("$0,0")]):null]),e("td",[0!=t.customer?e("span.bar",{style:{width:`${100*t.customer/l.customer.max}px`}}):null])]))]),e("div.cols",[e("div.box",[e("h2",["Suppliers by spend ",e("small",`${o.cube.counts.supplier.selected}/${o.cube.counts.supplier.total}`)]),o.filters.supplierbyid?e("a",{on:{click:u("filter supplier by id",null)},attrs:{href:"#"}},`Clear ${o.cube.supplier_desc(o.filters.supplierbyid)}`):[],e("ul",$.rows.map(t=>e("li",[e("a",{on:{click:u("filter supplier by id",t.key)},attrs:{href:"#"}},[e("span.bar",{style:{width:`${100*t.value/$.max}px`}}),`${o.cube.supplier_desc(t.key)}: ${c()(t.value).format("$0,0")}`])])))]),e("div.box",[e("h2",["Customers by spend ",e("small",`${o.cube.counts.customer.selected}/${o.cube.counts.customer.total}`)]),o.filters.customerbyid?e("a",{on:{click:u("filter customer by id",null)},attrs:{href:"#"}},`Clear ${o.cube.customer_desc(o.filters.customerbyid)}`):[],e("ul",w.rows.map(t=>e("li",[e("a",{on:{click:u("filter customer by id",t.key)},attrs:{href:"#"}},[e("span.bar",{style:{width:`${100*t.value/w.max}px`}}),`${o.cube.customer_desc(t.key)}: ${c()(t.value).format("$0,0")}`])])))])]),e("div.cols",[e("div.box",[e("h2",["Products by units ",e("small",`${o.cube.counts.product.selected}/${o.cube.counts.product.total}`)]),o.filters.productbyid?e("a",{on:{click:u("filter product by id",null)},attrs:{href:"#"}},`Clear ${o.cube.product_desc(o.filters.productbyid)}`):[],e("ul",k.rows.map(t=>e("li",[e("a",{on:{click:u("filter product by id",t.key)},attrs:{href:"#"}},[e("span.bar",{style:{width:`${100*t.value/k.max}px`}}),`${o.cube.product_desc(t.key)}: ${t.value}`])])))]),e("div.box",[e("h2",["Top 50 Order Items by price ",e("small",`${o.cube.counts.orderitem.selected}/${o.cube.counts.orderitem.total}`)]),o.filters.orderitembyid?e("a",{on:{click:u("filter orderitem by id",null)},attrs:{href:"#"}},`Clear ${o.cube.orderitem_desc(o.filters.orderitembyid)}`):[],e("ul",Array.from(o.cube.orderitem_byprice.filtered(-50),t=>e("li",[e("a",{on:{click:u("filter orderitem by id",t[1].Id)},attrs:{href:"#"}},`${o.cube.orderitem_desc(t[1].Id)}: ${c()(t[0]).format("$0,0")}`)])))])]),e("div.box",[e("h2","Products by customers"),e("table",[e("thead",[e("tr",[e("th",""),...k.rows.map(t=>e("th",o.cube.product_desc(t.key)))])]),e("tbody",w.rows.map(t=>e("tr",[e("td",o.cube.customer_desc(t.key)),...k.rows.map(r=>e("td",(a.a.get(o.cube.productsbycustomer,[t.key,r.key])||0).toString()))])))])]),e("div.box",[e("h2","Supplier country (x) by customer country (y)"),e("table",[e("thead",[e("tr",[e("th",""),...b.map(t=>e("th",t.key))])]),e("tbody",h.map(t=>e("tr",[e("td",t.key),...b.map(r=>e("td",(a.a.get(o.cube.countrymovements,[r.key,t.key])||0).toString()))])))])])])}})}.call(this,r(63)(e))}}]);