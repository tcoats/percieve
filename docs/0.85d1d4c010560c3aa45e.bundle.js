(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{62:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},63:function(e,t,r){"use strict";var o=r(64),s=r.n(o);t.a=({name:e,query:t,render:o,module:i})=>{const n={name:e,functional:!0,query:t,render:(e,t)=>o(s()(e),{state:t.props.state||t.data.state||t.parent.$state,route:t.parent.$route,router:t.parent.$router,hub:t.props.hub||t.data.hub||t.parent.$hub,...t})};if(i&&i.hot){const t=r(65),o=r(3);if(t.install(o),!t.compatible)throw new Error("vue-hot-reload-api is not compatible with the version of Vue you are using.");i.hot.accept(),i.hot.data?t.rerender(e,n):t.createRecord(e,n)}return n}},64:function(e,t){const r=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,o=/^\.|#/;e.exports=e=>(t,s,i)=>{if(null==t)return e("div",s,i);if("string"!=typeof t)return e(t,s,i);(null==s||"object"!=typeof s||Array.isArray(s))&&(i=s,s={});const n=t.split(r);for(let e of n){const t=e.charAt(0),r=e.substring(1,e.length);"."===t?(s.class||(s.class={}),s.class[r]=!0):"#"!==t||s.hasOwnProperty("id")||(s.attrs||(s.attrs={}),s.attrs.id=r)}const c=o.test(n[1])?"div":n[1];return e(c,s,i)}},65:function(e,t){var r,o,s=Object.create(null);"undefined"!=typeof window&&(window.__VUE_HOT_MAP__=s);var i=!1,n="beforeCreate";function c(e,t){if(t.functional){var r=t.render;t.render=function(t,o){var i=s[e].instances;return o&&i.indexOf(o.parent)<0&&i.push(o.parent),r(t,o)}}else u(t,n,(function(){var t=s[e];t.Ctor||(t.Ctor=this.constructor),t.instances.push(this)})),u(t,"beforeDestroy",(function(){var t=s[e].instances;t.splice(t.indexOf(this),1)}))}function u(e,t,r){var o=e[t];e[t]=o?Array.isArray(o)?o.concat(r):[o,r]:[r]}function l(e){return function(t,r){try{e(t,r)}catch(e){console.error(e),console.warn("Something went wrong during Vue component hot-reload. Full reload required.")}}}function a(e,t){for(var r in e)r in t||delete e[r];for(var o in t)e[o]=t[o]}t.install=function(e,s){i||(i=!0,r=e.__esModule?e.default:e,o=r.version.split(".").map(Number),s,r.config._lifecycleHooks.indexOf("init")>-1&&(n="init"),t.compatible=o[0]>=2,t.compatible||console.warn("[HMR] You are using a version of vue-hot-reload-api that is only compatible with Vue.js core ^2.0.0."))},t.createRecord=function(e,t){if(!s[e]){var r=null;"function"==typeof t&&(t=(r=t).options),c(e,t),s[e]={Ctor:r,options:t,instances:[]}}},t.isRecorded=function(e){return void 0!==s[e]},t.rerender=l((function(e,t){var r=s[e];if(t){if("function"==typeof t&&(t=t.options),r.Ctor)r.Ctor.options.render=t.render,r.Ctor.options.staticRenderFns=t.staticRenderFns,r.instances.slice().forEach((function(e){e.$options.render=t.render,e.$options.staticRenderFns=t.staticRenderFns,e._staticTrees&&(e._staticTrees=[]),Array.isArray(r.Ctor.options.cached)&&(r.Ctor.options.cached=[]),Array.isArray(e.$options.cached)&&(e.$options.cached=[]);var o=function(e){if(!e._u)return;var t=e._u;return e._u=function(e){try{return t(e,!0)}catch(r){return t(e,null,!0)}},function(){e._u=t}}(e);e.$forceUpdate(),e.$nextTick(o)}));else if(r.options.render=t.render,r.options.staticRenderFns=t.staticRenderFns,r.options.functional){if(Object.keys(t).length>2)a(r.options,t);else{var o=r.options._injectStyles;if(o){var i=t.render;r.options.render=function(e,t){return o.call(t),i(e,t)}}}r.options._Ctor=null,Array.isArray(r.options.cached)&&(r.options.cached=[]),r.instances.slice().forEach((function(e){e.$forceUpdate()}))}}else r.instances.slice().forEach((function(e){e.$forceUpdate()}))})),t.reload=l((function(e,t){var r=s[e];if(t)if("function"==typeof t&&(t=t.options),c(e,t),r.Ctor){o[1]<2&&(r.Ctor.extendOptions=t);var i=r.Ctor.super.extend(t);i.options._Ctor=r.options._Ctor,r.Ctor.options=i.options,r.Ctor.cid=i.cid,r.Ctor.prototype=i.prototype,i.release&&i.release()}else a(r.options,t);r.instances.slice().forEach((function(e){e.$vnode&&e.$vnode.context?e.$vnode.context.$forceUpdate():console.warn("Root or manually mounted instance modified. Full reload required.")}))}))},66:function(e,t){const r=(e,t)=>e.value>t.value?-1:e.value<t.value?1:0,o=(e,t)=>e.key>t.key?-1:e.key<t.key?1:0,s=(e,t=r)=>{let o=1/0,s=-1/0,i=0;const n=Object.keys(e).map(t=>{const r=e[t];return s=Math.max(s,r),o=Math.min(o,r),i+=r,{key:t,value:r}}).sort(t);return{rows:n,max:s,min:o,sum:i,avg:i/n.length}};s.byvaluedesc=r,s.byvalueasc=(e,t)=>r(t,e),s.bykeydesc=o,s.bykeyasc=(e,t)=>o(t,e),e.exports=s},69:function(e,t,r){"use strict";r.r(t),function(e){var o=r(63),s=r(66),i=r.n(s),n=r(19),c=r.n(n),u=r(20),l=r.n(u);t.default=Object(o.a)({name:"dasboard",module:e,query:({hub:e,props:t})=>e.emit("load cube"),render:(e,{props:t,hub:r,state:o,route:s,router:n})=>{const u=(...e)=>t=>{t.preventDefault(),r.emit(...e)},a={supplier:{min:1/0,max:-1/0,sum:0,count:0,total:0},position:{min:1/0,max:-1/0,sum:0,count:0,total:0},customer:{min:1/0,max:-1/0,sum:0,count:0,total:0},entries:{}},p=(e,t)=>{for(const r of Object.keys(e)){a[t].total++;const o=e[r];o<.1&&o>-.1||(a[t].count++,a[t].max=Math.max(a[t].max,o),a[t].min=Math.min(a[t].min,o),a[t].sum+=o,a.entries[r]||(a.entries[r]={key:r,supplier:0,position:0,customer:0}),a.entries[r][t]=o)}};p(o.cube.countrybysupplierspend,"supplier"),p(o.cube.countrybycustomerspend,"customer"),p(o.cube.countrybyspendposition,"position");const d=-Math.min(a.position.min,0),y=a.position.max+d;a.rows=Object.values(a.entries);var f;a.rows.sort((f=o.filters.countrysort,(e,t)=>e[f]>t[f]?-1:e[f]<t[f]?1:0));const b=i()(o.cube.countrybysupplierspend).rows.filter(e=>e.value>.1||e.value<-.1),m=i()(o.cube.countrybycustomerspend),h=m.rows.filter(e=>e.value>.1||e.value<-.1),v=i()(o.cube.countrybyspendposition);v.rows=v.rows.filter(e=>e.value>.1||e.value<-.1);const k=i()(o.cube.supplierbyspend);k.rows=k.rows.filter(e=>e.value>.1);const $=i()(o.cube.customerbyspend);$.rows=$.rows.filter(e=>e.value>.1);const w=i()(o.cube.productbyunits);return w.rows=w.rows.filter(e=>0!=e.value),e("div",[e("div.box",[o.filters.supplierbycountry?e("div",[e("a",{on:{click:u("filter supplier by country",null)},attrs:{href:"#"}},`Clear suppliers from ${o.filters.supplierbycountry}`)]):[],o.filters.supplierbyid?e("div",[e("a",{on:{click:u("filter supplier by id",null)},attrs:{href:"#"}},`Clear supplier ${o.cube.supplier_desc(o.filters.supplierbyid)}`)]):[],o.filters.customerbycountry?e("div",[e("a",{on:{click:u("filter customer by country",null)},attrs:{href:"#"}},`Clear customers from ${o.filters.customerbycountry}`)]):[],o.filters.customerbyid?e("div",[e("a",{on:{click:u("filter customer by id",null)},attrs:{href:"#"}},`Clear customer ${o.cube.customer_desc(o.filters.customerbyid)}`)]):[],o.filters.productbyid?e("div",[e("a",{on:{click:u("filter product by id",null)},attrs:{href:"#"}},`Clear product ${o.cube.product_desc(o.filters.productbyid)}`)]):[],o.filters.orderitembyid?e("div",[e("a",{on:{click:u("filter orderitem by id",null)},attrs:{href:"#"}},`Clear orderitem ${o.cube.orderitem_desc(o.filters.orderitembyid)}`)]):[]]),e("div.box",[e("table",[e("tr",[e("th",[]),e("th",{attrs:{colspan:2}},[e("h2",[e("a",{on:{click:u("sort country by","supplier")},attrs:{href:"#"}},["Supplier spend ",e("small",`${a.supplier.count}/${a.supplier.total}`)])]),o.filters.supplierbycountry?e("a",{on:{click:u("filter supplier by country",null)},attrs:{href:"#"}},`Clear ${o.filters.supplierbycountry}`):[]]),e("th",{attrs:{colspan:2}},[e("h2",[e("a",{on:{click:u("sort country by","position")},attrs:{href:"#"}},"Spend position ")])]),e("th",{attrs:{colspan:2}},[e("h2",[e("a",{on:{click:u("sort country by","customer")},attrs:{href:"#"}},["Customer spend ",e("small",`${h.length}/${m.rows.length}`)])]),o.filters.customerbycountry?e("a",{on:{click:u("filter customer by country",null)},attrs:{href:"#"}},`Clear ${o.filters.customerbycountry}`):[]])]),...a.rows.map(t=>e("tr",[e("td",t.key),e("td.d",[0!=t.supplier?e("a",{on:{click:u("filter supplier by country",t.key)},attrs:{href:"#"}},[c()(t.supplier).format("$0,0")]):null]),e("td",[0!=t.supplier?e("span.bar",{style:{width:`${100*t.supplier/a.supplier.max}px`}}):null]),e("td.d",[c()(t.position).format("$0,0")]),e("td",[t.position<0?[e("span.bar.blank",{style:{width:`${100*(d+t.position)/y}px`}}),e("span.bar.red",{style:{width:`${100*-t.position/y}px`}})]:e("span.bar.blank",{style:{width:`${100*d/y}px`}}),t.position>0?e("span.bar.green",{style:{width:`${100*t.position/y}px`}}):null]),e("td.d",[0!=t.customer?e("a",{on:{click:u("filter customer by country",t.key)},attrs:{href:"#"}},[c()(t.customer).format("$0,0")]):null]),e("td",[0!=t.customer?e("span.bar",{style:{width:`${100*t.customer/a.customer.max}px`}}):null])]))])]),e("div.cols",[e("div.box",[e("h2",["Suppliers by spend ",e("small",`${o.cube.counts.supplier.selected}/${o.cube.counts.supplier.total}`)]),o.filters.supplierbyid?e("a",{on:{click:u("filter supplier by id",null)},attrs:{href:"#"}},`Clear ${o.cube.supplier_desc(o.filters.supplierbyid)}`):[],e("ul",k.rows.map(t=>e("li",[e("a",{on:{click:u("filter supplier by id",t.key)},attrs:{href:"#"}},[e("span.bar",{style:{width:`${100*t.value/k.max}px`}}),`${o.cube.supplier_desc(t.key)}: ${c()(t.value).format("$0,0")}`])])))]),e("div.box",[e("h2",["Customers by spend ",e("small",`${o.cube.counts.customer.selected}/${o.cube.counts.customer.total}`)]),o.filters.customerbyid?e("a",{on:{click:u("filter customer by id",null)},attrs:{href:"#"}},`Clear ${o.cube.customer_desc(o.filters.customerbyid)}`):[],e("ul",$.rows.map(t=>e("li",[e("a",{on:{click:u("filter customer by id",t.key)},attrs:{href:"#"}},[e("span.bar",{style:{width:`${100*t.value/$.max}px`}}),`${o.cube.customer_desc(t.key)}: ${c()(t.value).format("$0,0")}`])])))])]),e("div.cols",[e("div.box",[e("h2",["Products by units ",e("small",`${o.cube.counts.product.selected}/${o.cube.counts.product.total}`)]),o.filters.productbyid?e("a",{on:{click:u("filter product by id",null)},attrs:{href:"#"}},`Clear ${o.cube.product_desc(o.filters.productbyid)}`):[],e("ul",w.rows.map(t=>e("li",[e("a",{on:{click:u("filter product by id",t.key)},attrs:{href:"#"}},[e("span.bar",{style:{width:`${100*t.value/w.max}px`}}),`${o.cube.product_desc(t.key)}: ${t.value}`])])))]),e("div.box",[e("h2",["Top 50 Order Items by price ",e("small",`${o.cube.counts.orderitem.selected}/${o.cube.counts.orderitem.total}`)]),o.filters.orderitembyid?e("a",{on:{click:u("filter orderitem by id",null)},attrs:{href:"#"}},`Clear ${o.cube.orderitem_desc(o.filters.orderitembyid)}`):[],e("ul",Array.from(o.cube.orderitem_byprice.filtered(-50),t=>e("li",[e("a",{on:{click:u("filter orderitem by id",t[1].Id)},attrs:{href:"#"}},`${o.cube.orderitem_desc(t[1].Id)}: ${c()(t[0]).format("$0,0")}`)])))])]),e("div.box",[e("h2","Customers (rows) by product (columns)"),o.filters.customerbyid?e("div",[e("a",{on:{click:u("filter customer by id",null)},attrs:{href:"#"}},`Clear ${o.cube.customer_desc(o.filters.customerbyid)}`)]):[],o.filters.productbyid?e("div",[e("a",{on:{click:u("filter product by id",null)},attrs:{href:"#"}},`Clear ${o.cube.product_desc(o.filters.productbyid)}`)]):[],e("table",[e("thead",[e("tr.rotate.large",[e("th",""),...w.rows.map(t=>e("th",[e("div",[e("a",{on:{click:u("filter product by id",t.key)},attrs:{href:"#"}},[o.cube.product_desc(t.key)])])]))])]),e("tbody",$.rows.map(t=>e("tr",[e("th",[e("a",{on:{click:u("filter customer by id",t.key)},attrs:{href:"#"}},[o.cube.customer_desc(t.key)])]),...w.rows.map(r=>e("td.d",[e("a",{on:{click:u("filter customer and product by id",{CustomerId:t.key,ProductId:r.key})},attrs:{href:"#"}},[(l.a.get(o.cube.productsbycustomer,[t.key,r.key])||0).toString()])]))])))])]),e("div.box",[e("h2","Customer country (rows) by supplier country (columns)"),o.filters.customerbycountry?e("div",[e("a",{on:{click:u("filter customer by country",null)},attrs:{href:"#"}},`Clear customers from ${o.filters.customerbycountry}`)]):[],o.filters.supplierbycountry?e("div",[e("a",{on:{click:u("filter supplier by country",null)},attrs:{href:"#"}},`Clear suppliers from ${o.filters.supplierbycountry}`)]):[],e("table",[e("thead",[e("tr.rotate.small",[e("th",""),...b.map(t=>e("th",[e("div",[e("a",{on:{click:u("filter supplier by country",t.key)},attrs:{href:"#"}},[t.key])])]))])]),e("tbody",h.map(t=>e("tr",[e("td",[e("a",{on:{click:u("filter customer by country",t.key)},attrs:{href:"#"}},[t.key])]),...b.map(r=>e("td.d",[e("a",{on:{click:u("filter supplier and customer by country",{SupplierCountry:r.key,CustomerCountry:t.key})},attrs:{href:"#"}},[(l.a.get(o.cube.countrymovements,[r.key,t.key])||0).toString()])]))])))])])])}})}.call(this,r(62)(e))}}]);